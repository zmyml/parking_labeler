import cv2
import numpy as np
from PIL import Image
import os
import random
# import keras


def letterbox_image(image, size):
    '''resize image with unchanged aspect ratio using padding'''
    iw, ih = image.size
    w, h = size
    scale = min(w/iw, h/ih)
    nw = int(iw*scale)
    nh = int(ih*scale)

    image = image.resize((nw, nh), Image.BICUBIC)
    new_image = Image.new('RGB', size, (128, 128, 128))
    new_image.paste(image, ((w-nw)//2, (h-nh)//2))
    return (new_image)


def img_co_from_video(time_pevious, time_persent, fps, x, y, w, h, cap, size=(300, 300)):
    img = [0, 0]
    for idx, time_s in enumerate([time_pevious, time_persent]):
        cap.set(cv2.CAP_PROP_POS_FRAMES, time_s*fps)
        ret, img[idx] = cap.read()
        img[idx] = img[idx][y:y+h, x:x+w]
        img[idx] = Image.fromarray(img[idx])
        img[idx] = letterbox_image(img[idx], size)
        img[idx] = np.array(img[idx])

    return (img)


def img_co_from_video_frame(frame_pevious, frame_persent, x, y, w, h, cap, size=(300, 300)):
    img = [0, 0]
    for idx, frame_t in enumerate([frame_pevious, frame_persent]):
        cap.set(cv2.CAP_PROP_POS_FRAMES, frame_t)
        ret, img[idx] = cap.read()
        img[idx] = img[idx][y:y+h, x:x+w]
        # img[idx] = Image.fromarray(img[idx])
        # img[idx] = letterbox_image(img[idx],size)
        # img[idx] = np.array(img[idx])

    return img

# def frame_plus_2_img(frame,img_1,img_2,x1 = 1500,y1 = 20,x2 = 1500,y2 = 400,size = (300,300)):


def frame_plus_2_img(frame, img_1, img_2, x1=1500, y1=20, x2=1500, y2=520, size=(384, 384)):
    '''
    params:
    frame(大图),img_1,img_2(小图):都是图片的numpy矩阵,shape为(高,宽,3)
    x1,y1,x2,y2为小图粘贴坐标
    w,h为小图长宽
    '''
    w, h = size
    frame[y1:y1+h, x1:x1+w] = img_1
    frame[y2:y2+h, x2:x2+w] = img_2
    return frame


def get_img(dir):
    '''
    params:
    dir:图片文件夹绝对路径
    '''
    list_dir = os.listdir(dir)  # 1.获得全部图片文件名列表
    os.chdir(dir)  # 2.换工作路径,以获得文件夹
    img_data = cv2.imread(random.sample(list_dir, 1)[0])  # 3.随机得到一张图片
    img = Image.fromarray(img_data)
    img = letterbox_image(img, (320, 320))  # 4.图片改变大小
    return img


def get_two_img(dir_a, dir_b, dir_path):  # 两个文件夹和一个根目录
    '''
    params:
    dir_a:文件夹名
    dir_path:文件夹上一级目录
    '''
    imgs = [0, 0]
    for idx, j in enumerate([dir_a, dir_b]):
        imgs[idx] = get_img(dir_path+'\\'+j)
    return imgs


def get_data_set(list_dir_train, img_dir_train):
    k = random.sample(list(range(2)), 1)
    if k[0] == 0:  # 注意k的值为列表形式的[0]或[1],需要加k[0]才能得出真的值
        dir_a, dir_b = random.sample(list_dir_train, 2)
        imgs = get_two_img(dir_a, dir_b, img_dir_train)
    else:
        dir_a = random.sample(list_dir_train, 1)[0]
        imgs = get_two_img(dir_a, dir_a, img_dir_train)

    return imgs, k


def data_set_p(X_batch_a, X_batch_b, Y_batch):
    X_batch_a = np.array(X_batch_a)
    X_batch_a = X_batch_a.astype('float32')
    X_batch_a /= 255

    X_batch_b = np.array(X_batch_b)
    X_batch_b = X_batch_b.astype('float32')
    X_batch_b /= 255

    Y_batch = keras.utils.to_categorical(Y_batch, 2)

    return X_batch_a, X_batch_b, Y_batch


def show_parking_line(img_data, parking_list_np, thickness=4):
    '''
    params:
    img_data:图片文件
    parking_list_np:相关图片停车位各点 
                    详见:parking_line_list
    thickness:线宽,默认为4
    return:画好线的img_data
    '''
    for i in range(len(parking_list_np)):
        for j in range(len(parking_list_np[i])):
            cv2.line(img_data,
                     (parking_list_np[i][j-1][0], parking_list_np[i][j-1][1]),
                     (parking_list_np[i][j][0], parking_list_np[i][j][1]),
                     (0, 0, 255), thickness)
    return img_data


parking_line = {
    "170": [[[395.1389, 1186.11108],  [1457.21741, 1106.324], [1711.01367, 1142.9397], [597.9937, 1237.4613]],
            [[1467.51672, 1104.84167], [2285.50342, 1046.45361],
             [2508.893, 1072.60168], [1721.303, 1142.4574]],
            [[2295.59546, 1043.97131], [2831.30737, 1002.37024],
             [3070.9873, 1018.51837], [2517.843, 1070.56616]],
            [[2844.81055, 999.7105],  [3254.72559, 964.0238], [
                3479.45557, 978.4914], [3076.77417, 1016.58936]],
            [[3269.93018, 962.9119], [3596.21265, 935.657349], [3774.92554, 945.708252], [3488.42554, 976.115662]]],

    "171": [[[7.52314758, 704.861], [161.773132, 691.972168],   [413.1944, 711.8055], [259.837952, 728.6388]],
            [[419.166656, 712.5],    [845.8333, 748.6666], [
                653.8333, 765.999939], [266.499969, 730.5]],
            [[854.6666, 750.3333],  [1484.66663, 804.3333], [
                1239.16663, 824.1666], [668.6666, 768.499939]],
            [[1490.97217, 805.3611], [2318.05542, 886.805542], [
                2065.97217, 911.805542], [1247.22217, 824.999939]],
            [[2326.389, 888.888855],  [3461.111, 1005.55554], [3249.30542, 1045.13879], [2089.58325, 912.499939]]],

    "175": [[[465.869659, 1607.54382], [724.580261, 1734.87109], [1985.69385, 1457.16052], [1582.72607, 1398.51086]],
            [[1597.55786, 1392.56689], [2009.53967, 1455.18848], [
                2875.50317, 1258.09949], [2545.96069, 1213.28174]],
            [[2565.77856, 1205.35181], [2890.433, 1248.1416], [3477.63013, 1110.80029], [3132.08765, 1082.95447]]],

    "176": [[[402.777771, 956.9444],    [759.0278, 917.3611],    [1347.5, 1003.33331], [1004.16663, 1061.66663]],
            [[1022.49994, 1064.16663], [1356.66663, 1003.33331],
             [2017.49988, 1097.5], [1649.99988, 1173.33325]],
            [[1673, 1173],            [2025, 1099],            [3028, 1243], [2721, 1352]]],

    "177": [[[554.688049, 1188.86414], [1327.10413, 1149.12012], [1237.24817, 1251.07214], [397.440033, 1280.44812]],
            [[1330.56018, 1150.84814], [2251.58423, 1105.92017], [
                2287.87231, 1202.68811], [1247.61609, 1247.61609]],
            [[2260.224, 1102.46411], [3067.20044, 1060.99207], [3222.72046, 1155.84814], [2296.51221, 1206.14417]]],

    "178": [[[238.232986, 720.968262], [557.4845, 699.749146], [1158.73523, 754.903442], [836.709, 780.2854]],
            [[848.958252, 782.407349], [1166.6665, 755.208252],
             [2082.87, 838.9629], [1713.5415, 869.791565]],
            [[1723.83325, 871.1666], [2087.5, 839.999939], [3394.1665, 959.999939], [2989.1665, 1000.83331]]],

    # "180": [[[319.166656,501.666656],[613.1944,554.8611],[345.1389,560.4166],[51.3888855,500.694427]],
    #         [[618.055542,556.25],[1093.83325,641.6666],[780.555542,646.8333],[359.8889,561.805542]],
    #         [[1096.52771,644.4444],[1749.91663,761.4166],[1487.5,785.4166],[794.3611,647.6111]]],

    "180": [[[6.84, 747.120056], [822.160034, 632.160034], [1077.24, 735.96], [4.20000029, 937.240051]],
            [[823.560059, 631.040039], [1378.92, 556.24], [
                1566.4, 597.720032], [1081.44006, 732.96]],
            [[1383.06616, 554.5555], [1660.107, 505.472137], [1787.22974, 524.6913], [1569.25134, 596.064758]]],

    "211": [[[737.8471, 578.7036], [896.9906, 612.4613], [763.406555, 622.1064], [610.532349, 584.490662]],
            [[895.5439, 612.4613], [1141.969, 663.2754], [
                1003.56854, 679.976746], [771.122559, 623.0709]],
            [[1143.685, 663.7221], [1537.90491, 743.634155], [1352.71973, 765.8178], [1009.35559, 681.4235]]],

    "212": [[[2.5, 702.5], [592.5, 657.5], [691.6666, 715], [0, 777.499939]],
            [[598.3333, 658.3333], [1197.5, 615], [
                1298.33325, 651.6666], [694.1666, 716.6666]],
            [[1200.83325, 613.3333], [1574.16663, 585.8333], [1598.33325, 619.1666], [1301.66663, 650.8333]]],

    # "221": [[[498.649628, 527.0671], [624.0354, 553.1442], [530.031555, 560.8603], [417.6666, 532.407349]],
    #         [[623.553162, 553.626465], [812.1141, 593.1712], [703.6072, 603.2985], [536.229858, 561.824768]],
    #         [[813.0786, 593.653442], [1102.3949, 653.9351], [971.328552, 670.3317], [705.5362, 603.780762]],
    #         [[1104.35938, 654.417358], [1541.28064, 745.5632], [1411.55457, 779.8031], [974.1156, 670.8494]]],

    # "221":[[[247.3958, 472.1257],[284.5648, 479.806274],[229.573273, 483.628784],[193.8657, 474.054718]],
    #          [[286.458282, 481.2885],[328.825562, 491.486816],[282.118, 497.20285],[236.949036, 485.075562]],
    #          [[332.272339, 492.415833],[397.3765, 505.401154],[351.222168, 512.5995],[288.90506, 496.7206]],
    #          [[399.3055, 505.883423],[478.664276, 522.762268],[421.347168, 531.3718],[355.90274, 514.0817]],
    #          [[482.111053, 523.2445],[618.517639, 551.1442],[535.229858, 560.378],[423.722931, 531.8896]],
    #          [[620.6596, 551.2152],[819.830139, 594.135742],[704.0894, 602.8163],[540.428162, 560.824768]],
    #          [[825.1349, 594.135742],[1106.28845, 655.381836],[978.0091, 669.8494],[712.2877, 603.780762]],
    #          [[1111.59326, 655.381836],[1539.83386, 746.527649],[1413.96582, 777.874146],[981.3849, 671.2962]]],

    # "231": [[[156.767731,485.146545],[354.384979,502.9899],[250.289322,533.854065],[49.6720619,512.634949]],
    #         [[356.384979,503.472137],[664.0624,531.4428],[559.4135,568.5763],[252.218323,533.854065]],
    #         [[667.4382,531.9251],[1091.8208,568.5763],[1006.94427,617.801636],[562.789246,568.5763]],
    #         [[1093.74988,569.058533],[1600,614.354858],[1600,684.317],[1007.9798,618.7661]]],

    # "232": [[[2.41126513, 590.2777], [621.6951, 469.232178], [707.876465, 509.705933], [3.375771, 657.7931]],
    #         [[627.4112, 467.785431], [1164.15881, 369.888062], [1280.864, 398.341], [713.7345, 509.741455]],
    #         [[1166.83936, 369.4413], [1532.6001, 305.7484], [1598.18652, 334.6836], [1283.27527, 397.3765]]],

    # "242": [[[17.3611088, 704.0894], [580.6326, 624.517639], [670.813965, 665.9914], [34.7222176, 771.122559]],
    #         [[583.9019, 623.553162], [1084.10474, 554.1087], [1190.57617, 581.114868], [675.154236, 665.9914]],
    #         [[1088.8208, 552.626465], [1380.69043, 513.1172], [1489.19727, 532.3718], [1196.46973, 580.1504]]],

    # "251": [[[192.901215,461.998383],[295.556274,462.480652],[404.489136,482.253021],[313.946716,488.5223]],
    #         [[406.0069,483.253021],[616.8579,524.2445],[508.776947,532.407349],[321.66275,489.969055]],
    #         [[620.822449,524.7268],[933.266052,586.0084],[810.185059,601.3695],[516.9752,533.854065]],
    #         [[936.6063,587.455139],[1435.18494,688.175049],[1331.98279,720.0038],[815.0076,603.2985]]],

    # "252": [[[81.2000046,591.8], [817.800049,570], [896.4,620.4], [60,654]],
    #         [[822.4,568.8], [1385.8,553.4], [1500,596.4], [902.800049,620.4]]],

    # "261": [[[139,323],[326,358],[169,385],[6,343]],
    #         [[324,360],[611,416],[435,447],[181,386]],
    #         [[618,417],[1087,508],[871,552],[445,448]],
    #         [[1085,509],[1595,607],[1514,715],[878,553]]],

    # "262": [[[107.024673, 674.672], [483.217529, 576.7746],[627.8579, 588.3487], [269.0972, 701.678162]],
    #         [[484.5223, 576.292358], [722.8973, 512.5995],[833.7445, 522.7268], [631.3402, 587.384155]],
    #         [[726.237549, 511.634949], [875.289246, 473.0902],[963.059265, 482.2885], [836.226746, 522.2445]],
    #         [[879.0763, 472.1612], [972.2221, 448.013062],[1056.13416, 452.800079], [968.328552, 480.841766]]]

    "211":
    [
        [[665.9914, 407.5038], [815.489868, 434.992218], [
            689.1396, 450.424316], [536.2654, 417.148865]],
        [[816.454346, 435.956726], [1055.16956, 479.3595], [
            904.706665, 495.7561], [695.8911, 451.388824]],
        [[1056.13416, 479.841766], [1380.69043, 539.6411], [
            1222.02917, 565.200562], [909.046936, 497.20285]]
    ],

    "212":
    [
        [[43.2, 568.8], [678, 580.8], [660, 643.2], [13.2000008, 628.8]],
        [[685.2, 580.8], [1386, 580.8], [
            1465.20007, 634.8], [664.8, 644.4]],
        [[1396.8, 579.600037], [1914, 567.600037], [
            1916.4, 621.600037], [1470, 633.600037]]
    ],

    "221":
    [
        [[569.540833, 484.664276], [649.112549, 500.578644],
         [585.455139, 509.2592], [504.9189, 488.5223]],
        [[650.0771, 502.0254], [766.300049, 526.138062], [
            690.5153, 536.7831], [589.2422, 508.776947]],
        [[768.7113, 527.102539], [941.840149, 563.7538], [
            841.425049, 575.8456], [696.373352, 537.7476]],
        [[946.1804, 564.236], [1197.9165, 617.7661], [
            1076.38879, 637.5385], [845.3895, 577.256836]],
        [[1201.29224, 618.248352], [1591.43494, 700.7136],
         [1480.999, 732.060059], [1083.14026, 638.503]]
    ],

    "231":
    [
        [[397.3765, 656.3464], [585.937439, 694.9266], [
            475.983734, 712.2877], [300.925873, 666.955933]],
        [[587.866455, 695.8911], [866.1264, 743.1519], [
            760.513, 773.0516], [480.806274, 712.2877]],
        [[868.0554, 744.1164], [1248.5531, 803.433533], [
            1170.91028, 843.9428], [762.442, 774.0161]],
        [[1251.92883, 803.9158], [1850.38013, 868.3957], [
            1842.232, 932.819336], [1174.28613, 844.425049]]
    ],

    "232":

    [
        [[67.51542, 765.8178], [698.2669, 740.634155], [
            771.604858, 789.9304], [63.6574, 831.4042]],
        [[703.1249, 742.1874], [1209.44885, 706.302368], [
            1299.67188, 736.8826], [775.9451, 789.9304]],
        [[1212.65332, 704.6072], [1526.523, 667.6511], [
            1629.533, 691.550842], [1305.94116, 736.8826]]
    ],
    "241":
    [
        [[162, 411.6], [607.2, 441.6], [
            461.033875, 495.7561], [13.0208311, 452.835571]],
        [[610.050049, 442.708282], [1239.87256, 495.273865],
         [1121.72058, 562.307], [464.8919, 496.7206]],
        [[1242.766, 495.7561], [1915.99121, 566.165039], [
            1918.40247, 648.1481], [1127.02527, 563.271545]]
    ],

    "242":
    [
        [[200.617249, 517.939758], [813.8448, 450.942078],
         [896.0261, 491.898071], [209.2978, 576.7746]],
        [[818.9011, 450.942078], [1270.84314, 403.3055], [
            1370.66956, 428.2407], [898.9196, 492.380341]],
        [[1274.31079, 403.2345], [1523.04065, 376.888062], [
            1628.08618, 391.553955], [1373.3501, 427.2052]]
    ],

    "251":
    [
        [[455.7291, 424.0424], [569.540833, 434.0277], [
            491.0902, 446.97757], [375.796234, 432.0987]],
        [[572.916565, 434.545471], [763.406555, 455.7291],
         [655.2545, 470.0902], [495.395, 448.4598]],
        [[765.8178, 456.6936], [1060.95667, 489.486816], [
            936.7128, 509.634949], [662.5948, 469.572479]],
        [[1062.40344, 490.451324], [1527.29529, 543.499146],
         [1425.27063, 581.9729], [942.6063, 511.081726]]
    ],

    "252":
    [
        [[71, 640], [683, 610], [657, 666], [0, 692]],
        [[687, 608], [1348, 567], [1423, 613], [661, 666]],
        [[1355, 567], [1835, 529], [1919, 569], [1427, 612]]
    ],

    "261":
    [
        [[580.8456, 465.033875], [693.9621, 496.7206], [
            603.3695, 504.401154], [499.344849, 466.820923]],
        [[695.4089, 497.68512], [862.6503, 549.1797], [
            760.030762, 561.824768], [606.6743, 505.365662]],
        [[865.0261, 550.1442], [1148.74756, 635.7869], [
            1034.91492, 653.9351], [766.7113, 562.789246]],
        [[1151.641, 636.751465], [1580.34314, 762.442], [
            1441.93652, 795.717468], [1038.773, 655.381836]]
    ],

    "262":
    [
        [[415.255341, 566.789246], [699.1249, 487.111053], [
            835.1912, 501.096375], [509.2592, 604.263062]],
        [[705.394165, 485.628784], [911.9404, 432.580963], [
            1027.199, 442.708282], [839.6025, 499.614136]],
        [[917.2097, 430.580963], [1051.79382, 399.3055],
         [1140.04614, 406.5393], [1031.057, 442.226]],
        [[1057.02759, 397.858734], [1156.925, 375.6751], [
            1222.02917, 381.462128], [1143.01062, 405.021545]]
    ],

    "DDZ2G1907ZMY00002SY":
    [
        [[688.2106, 791.4127], [1103.25146, 830.9721], [
            532.336365, 1002.533], [67.92669, 951.967468]],
        [[1104.77063, 831.4042], [1560.4165, 874.791565], [
            1085.38416, 1064.39343], [532.564758, 1003.47211]],
        [[1563.07861, 875.4212], [2115.42114, 927.240662], [
            1751.42114, 1138.73132], [1086.80542, 1063.65735]],
        [[2118.31934, 926.6619], [2699.07373, 982.6388], [
            2509.83765, 1221.64343], [1756.20813, 1138.04614]],
        [[2700.2312, 982.9536], [3263.88867, 1037.037], [
            3262.7312, 1305.55542], [2512.15259, 1222.222]]
    ],
    "20190721":
    [
        [[688.2106, 791.4127], [1103.25146, 830.9721], [
            532.336365, 1002.533], [67.92669, 951.967468]],
        [[1104.77063, 831.4042], [1560.4165, 874.791565], [
            1085.38416, 1064.39343], [532.564758, 1003.47211]],
        [[1563.07861, 875.4212], [2115.42114, 927.240662], [
            1751.42114, 1138.73132], [1086.80542, 1063.65735]],
        [[2118.31934, 926.6619], [2699.07373, 982.6388], [
            2509.83765, 1221.64343], [1756.20813, 1138.04614]],
        [[2700.2312, 982.9536], [3263.88867, 1037.037], [
            3262.7312, 1305.55542], [2512.15259, 1222.222]]
    ],
    "DDT2G1907ZMY00006SY":
[
    [[174.089, 1684.128], [1258.4, 1346], [1681.20007, 1372.4], [655.2, 1734]],
    [[1261.80554, 1343.75], [1921.52771, 1150], [2269.44434, 1163.19446], [1686.80554, 1370.13879]],
    [[1926.77771, 1146.91663], [2345.83325, 1020.13885], [2631.08325, 1033.02771], [2276.9165, 1161.41663]],
    [[2352.08325, 1018.74994], [2636.63867, 938.0278], [2888.88867, 943.749939], [2634.72217, 1031.25]]
],
"DDT2G1907ZMY00009SY":
[
    [[385.121857, 979.973633], [1001.34943, 1051.38257], [753.456665, 1126.09631], [135.584091, 1038.39722]],
    [[1005.01532, 1051.31152], [1872.1062, 1153.067], [1684.99207, 1250.96436], [756.1727, 1126.06079]],
    [[1873.07068, 1153.54919], [3194.92627, 1310.28149], [3196.373, 1434.70276], [1693.19031, 1250.482]]
],

"DDT2G1907ZMY00011SY":
[
    [[380.777771, 955.472168], [710.75, 1051.38879], [425.416656, 1064.88879], [144.833328, 965.972168]],
    [[716.628, 1051.31152], [1214.79541, 1189.236], [854.552368, 1217.20667], [429.2052, 1066.26147]],
    [[1216.72437, 1190.20044], [1997.00977, 1410.10779], [1602.52673, 1467.01367], [865.1619, 1218.17114]],
    [[2001.35, 1409.62561], [3151.52344, 1733.69958], [2729.552, 1839.79529], [1610.2428, 1468.46045]]
],

"DDT2G1907ZMY00012SY":
[
    [[287.615723, 1153.35632], [633.6805, 1171.29614], [372.106445, 1221.0647], [65.39351, 1196.75916]],
    [[637.1527, 1171.87488], [1173.03235, 1196.75916], [873.2638, 1263.31], [372.106445, 1222.80078]],
    [[1175.34717, 1196.75916], [1982.05994, 1244.21289], [1657.986, 1328.70361], [879.6295, 1263.88879]],
    [[1986.68958, 1244.21289], [3261.57373, 1312.49988], [2995.94873, 1439.236], [1667.24524, 1329.28223]]
],

"DDT2G1907ZMY00013SY":
[
    [[231, 1339], [1394, 1170], [1556, 1250], [249, 1455]],
    [[1400, 1167], [2242, 1055], [2450, 1114], [1563, 1249]],
    [[2254, 1055], [2722, 1002], [2933, 1045], [2456, 1112]]
],

"DDT2G1907ZMY00014SY":
[
    [[236.390442, 953.85614], [686.3617, 970.444946], [620.0065, 1140.48022], [74.64961, 1117.67053]],
    [[696.7297, 972.518555], [1167.437, 984.960144], [1235.86572, 1167.437], [628.3009, 1136.333]],
    [[1181.95215, 989.107361], [1739.75061, 1005.69617], [1903.56506, 1192.32019], [1240.013, 1163.28979]],
    [[1762.5603, 1005.69617], [2381.33325, 1034.72656], [2589.74927, 1223.20337], [1922.22754, 1192.32019]],
    [[2394.99561, 1032.80017], [2894.746, 1047.16821], [3257.626, 1252.45459], [2608.84033, 1224.42419]]
],

"DDT2G1907ZMY00016SY":
[
    [[171.256027, 1288.70581], [1306.221, 1278.26416], [1445.66736, 1375.165], [152.667221, 1402.97461]],
    [[1320.88342, 1277.33777], [2239.48828, 1269.04333], [2409.52344, 1364.429], [1463.96179, 1376.87061]],
    [[2251.93, 1266.96973], [2826.31714, 1277.33777], [3012.94116, 1351.98743], [2421.965, 1366.50256]]
],

"DDT2G1907ZMY00017SY":
[
    [[928.972961, 831.513733], [1240.013, 839.8081], [748.5697, 1018.13776], [331.776062, 1009.84332]],
    [[1264.89624, 839.8081], [1663.02747, 841.8817], [1165.3634, 1032.653], [765.1585, 1016.06415]],
    [[1671.3219, 843.9553], [2148.25, 846.028931], [1663.02747, 1045.0946], [1163.28979, 1030.57935]],
    [[2150.32349, 848.102539], [2593.442, 854.3969], [2241.562, 1061.68335], [1673.39551, 1043.021]],
    [[2592.00049, 858.4705], [3108.327, 860.5441], [2956.954, 1078.27222], [2241.562, 1062.757]]
],

"DDT2G1907ZMY00020SY":
[
    [[487.268463, 1113.42578], [825.8101, 1156.82861], [623.263855, 1200.81], [321.759216, 1148.14807]],
    [[829.861, 1157.40735], [1300.92578, 1229.74524], [1108.79614, 1285.30078], [626.157349, 1201.96753]],
    [[1304.97668, 1230.90271], [1977.43042, 1327.54614], [1813.07849, 1403.35632], [1108.79614, 1286.45825]],
    [[1979.74524, 1329.28223], [3001.15723, 1493.05542], [2981.4812, 1604.74524], [1817.70813, 1403.935]]
],

"DDT2G1907ZMY00022SY":
[
    [[331.5972, 1418.40259], [1234.95361, 1362.26843], [1200.81, 1453.70361], [200.810165, 1503.472]],
    [[1236.80554, 1361.80554], [2247.30542, 1276.38879], [2371.139, 1345.44434], [1204.86108, 1452.77771]],
    [[2250.639, 1275], [2994.44434, 1192.36108], [3157.63867, 1240.97217], [2378.47217, 1345.13879]],
],

"DDT2G1907ZMY00008SY":
[
    [[0,1095.28015],[469.488068,1061.80811],[699.8401,1301.18408],[5.18400049,1374.0321]],
    [[471.744049,1059.26416],[1000.89612,1026.97607],[1370.57617,1232.06409],[707.7521,1301.72815]],
    [[1012.60809,1022.97614],[1485.54419,990.4161],[1975.10425,1169.85608],[1373.76013,1232.06409]],
    [[1499.81616,991.1441],[1947.92017,959.0401],[2472.8562,1121.47217],[1989.84021,1168.12817]],
    [[1960.92017,958.4961],[2355.26416,934.5761],[2878.84839,1084.72815],[2484.86426,1120.47217]]
],
"DDT2G1907ZMY00200SY":
[
    [[666,939],[1170,912],[611,1078],[15,1114]],
    [[1174.33325,911.8333],[1729.16663,883.499939],[1247.33325,1041.33325],[623.1666,1076.66663]],
    [[1739.73621,883.0081],[2177.07227,861.7281],[1856.84814,1007.34412],[1255.42407,1039.80811]],
    [[2184.8,861],[2666.6,840.4],[2478.8,974],[1865,1006.20007]],
    [[2672.6665,838.8333],[3099.49976,820.499939],[3028.6665,942.3333],[2482.83325,974.1666]]
],
"DDT2G1907ZMY00206SY":
[
    [[261.72,707.96],[878.84,684],[864.440063,848.600037],[120.520004,886.920044]],
    [[878.600037,684.600037],[1430.6,671.4],[1528.6,821.4],[865.2,850]],
    [[1432.4,670.4],[1932,659.2],[2121.2,801.2],[1529.6,822]],
    [[1933.8,659.2],[2373.2,654.2],[2653.2,786],[2124.2,802.4]],
    [[2375.6,654],[2772.8,647.2],[3144.8,771.4],[2656,785.800049]]
],
"DDT2G1907ZMY00009SY_1010":
[
    [[610,790],[1615,962],[1226,1054],[264,852]],
    [[1623.72815,963.2161],[3026.36035,1206.68811],[2748.6084,1330.56018],[1234.24817,1054.90417]]
],

"DDT2G1907ZMY00016SY_1010":
[
    [[24.6624031,1122.861],[1659.23059,1022.62256],[1990.65625,1159.14258],[246.758438,1281.485]],
    [[1670.92,1025.28],[2710.72021,966.920044],[3074.40015,1075.68],[1991.52,1156.32007]]
],

"DDT2G1907ZMY00020SY_1010":
[
    [[487.5578,798.611],[1642.9397,999.4212],[1163.77307,1115.162],[32.4074059,881.365662]],
    [[1652.49988,1001.66663],[3214.1665,1273.33325],[2800,1441.66663],[1173.33325,1116.66663]]
],
"DDT2G1907ZMY00105SY":
[
    [[548.64,1162.08008],[1157.56,1153],[466.560028,1324.8],[0,1283.12]],
    [[1170,1155],[1759,1144],[1212,1316],[487,1323]],
    [[1776,1145],[2231,1138],[1949,1300],[1224,1316]],
    [[2245,1140],[2842,1145],[2604,1297],[1956,1299]],
    [[2849,1146],[3264,1146],[3264,1281],[2614,1298]]
],
"DDT2G1907ZMY00134SY":
[   [[323.481659,1244.16016],[945.561768,1226.742],[930.631836,1408.3894],[156.764191,1443.22583]],
    [[954.4917,1229.23035],[1512.8988,1215.30042],[1604.96667,1378.52954],[940.0735,1408.3894]],
    [[1522.34045,1214.32373],[2047.42285,1200.3938],[2213.09351,1359.11133],[1615.92,1379.01782]],
    [[2056.77612,1200.59216],[2498.4082,1192.04016],[2744.97632,1332.10413],[2220.48022,1354.4801]],
    [[2513.60034,1193.22412],[2903.96021,1177.76013],[3184.60034,1318.64819],[2760.07227,1331.56018]]
],
"DDT2G1907ZMY00142SY":
[   [[871.2,1130.4],[1366.56,1162.08008],[1072.8,1212.4801],[679.680054,1169.28]],
    [[1382.4,1162.08008],[1992.76,1208.04],[1666.08008,1275.16],[1095.28,1211.4801]],
    [[2012.24011,1209.16],[2979.36,1298.88],[2604.96021,1385.6001],[1683.92,1275.84009]]
],
"DDT2G1907ZMY00011SY_1104":
[   [[321.6,1166.6],[749,1188.4],[686.4,1347.6],[180.8,1314.8]],
    [[751.2,1189.20007],[1192.8,1210.6],[1262.4,1388.4],[690.8,1348.4]],
    [[1198.8,1212],[1742.4,1239.6],[1900.8,1426.8],[1264.8,1387.20007]],
    [[1748,1242],[2206.40015,1265.20007],[2585.8,1461.6],[1906.8,1426.8]],
    [[2215.2,1263.6],[2736.8,1292.8],[3258.40015,1492.8],[2592,1461.6]]
],
"DDT2G1907ZMY00006SY_1104":
[
    [[970.6786,1029.16467],[1284.48511,1038.11792],[771.379333,1199.37048],[388.178,1189.41724]],
    [[1297.36829,1037.11792],[1669.66309,1052.55957],[1184.44055,1216.7887],[773.8677,1199.37048]],
    [[1684.03455,1051.55957],[2083.14258,1063.02454],[1689.56958,1234.20691],[1181.95227,1214.30042]],
    [[2088,1062.72009],[2561.88013,1079.68],[2276.64014,1252.8],[1697.76,1235.52]],
    [[2571.84,1081.44006],[3088.8,1097.28],[2928.96021,1284.4801],[2280.96021,1255.68]]
],
"DDT2G1907ZMY00078SY":
[
    [[333.84964,1186.09937],[928.972961,1117.67053],[908.236938,1320.88342],[165.888031,1434.9314]],
    [[937.267334,1117.67053],[1476.40344,1055.46252],[1582.157,1221.35059],[922.752136,1318.80981]],
    [[1484.72217,1054.86108],[1993.74988,993.749939],[2169.44434,1136.80554],[1590.27771,1220.13879]],
    [[1999.16663,992.749939],[2452.08325,939.5833],[2684.02759,1061.80554],[2176.389,1136.80554]],
    [[2456.80542,939.2777],[2850.69434,893.055542],[3136.80542,995.8333],[2693.05542,1062.5]]
],
"DDT2G1907ZMY00141SY":
[
    [[685.44,807.84],[1224.04,789.240051],[554.08,975.08],[2.88,995.680054]],
    [[1232.08008,791.360046],[1707.8,775.2],[1199.92,946.600037],[582.800049,972.08]],
    [[1720.8,770.4],[2252.16016,751.680054],[1826.92,924.800049],[1218.24,948.4]],
    [[2264.8,749],[2694.24,740.160034],[2452.44019,908.4],[1834.56,927.360046]],
    [[2712.84,738.720032],[3127.68018,720],[3016.16016,888.120056],[2466.84,904.96]]
],
"DDT2G1907ZMY00063SY":
[
    [[498,1265],[1039,1230],[598,1410],[0,1443]],
    [[1042,1231],[1528,1200],[1233,1364],[612,1409]],
    [[1536,1197],[1998,1166],[1830,1322],[1247,1361]],
    [[2007,1166],[2435,1138],[2377,1275],[1836,1323]],
    [[2442,1138],[2827,1112],[2843,1244],[2381,1277]],
    [[2833,1111],[3163,1090],[3260,1210],[2849,1243]]
],
"DDT2G1907ZMY00057SY":
[
    [[344.166656, 1150.0], [937.3333, 1150.0], [563.5, 1267.5], [58.3333321, 1248.83325]], 
    [[944.999939, 1149.16663], [1733.33325, 1146.0], [1460.83325, 1300.0], [570.0, 1268.33325]], 
    [[1739.0, 1147.0], [2930.0, 1143.0], [2643.0, 1342.0], [1471.20007, 1298.4]]
],
"DDT2G1907ZMY00142SY_1211":
[
    [[804.398, 1127.02527], [1315.50061, 1169.91028], [997.299255, 1217.68884], [552.662, 1165.60559]], 
    [[1317.99756, 1170.91028], [2004.72583, 1224.44043], [1639.66028, 1292.92029], [1005.49756, 1218.65332]], 
    [[2010.85315, 1224.92261], [3079.32739, 1315.58618], [2669.12842, 1413.55457], [1645.82312, 1292.88489]]
],
"test_dev":
[
    [[173.611084, 638.503], [544.874939, 586.455139], [643.8078, 608.603333], [280.671265, 668.884949]],
    [[544.626465, 583.5261], [857.7507, 543.052368], [970.7753, 557.002258], [645.219055, 606.6388]], 
    [[864.949, 541.5701], [1045.36792, 521.493], [1145.83313, 529.5138], [976.5624, 556.0377]], 
    [[1049.90027, 520.351], [1187.78918, 500.578644], [1284.722, 510.705933], [1154.996, 528.5493]]
],
 "DDT2G1907ZMY00221SY":
[
    [[352.0, 853.0], [822.0, 827.0], [907.0, 848.0], [404.0, 898.0]], 
    [[836.805542, 826.388855], [1192.36108, 782.638855], [1280.55554, 797.9166], [914.5833, 847.9166]], 
    [[1197.29224, 780.8031], [1408.30615, 745.811646], [1491.16187, 752.832458], [1288.58008, 797.164246]], 
    [[1414.95117, 744.4003], [1553.33691, 711.3232], [1644.48279, 713.216736], [1495.36011, 751.3147]]
],
"DDT2G1907ZMY00049SY": 
[
[[2518.42432, 894.721741], [2799.36035, 997.401733], [1897.20007, 1143.0], [1641.6001, 994.800049]],
  [[2952.40015, 860.2], [3186.0, 939.600037], [2805.8, 997.2], [2521.6, 893.800049]],
[[1633.99707, 995.3281], [1891.12354, 1142.55371], [319.334442, 1428.71057], [391.910461, 1200.61462]]
],
"DDT2G1907ZMY00050SY": 
[
[[3017.08838, 1325.3761], [3217.53638, 1570.7522], [1309.8241, 1465.34412], [1499.90417, 1237.24817]],
 [[1486.77136, 1235.86572], [1289.77942, 1463.96179], [2.07360029, 1327.10425], [242.611237, 1138.40662]]
],
"DDT2G1907ZMY00124SY":
[
[[1851.28, 1064.28], [2223.36, 1099.72009], [1601.84009, 1312.4], [1170.72009, 1248.4801]],
    [[2307.83325, 950.8333], [2603.6665, 973.1666], [2228.1665, 1097.66663], [1858.16663, 1061.0]],
    [[2593.0, 878.0], [2848.0, 892.0], [2608.0, 972.0], [2319.0, 949.0]],
    [[2827.5, 822.3333], [3032.5, 835.6666], [2853.33325, 890.8333], [2601.33325, 876.999939]],
    [[2979.6, 790.0], [3153.2002, 798.2], [3035.8, 834.800049], [2835.40015, 820.600037]],
[[1165.31213, 1249.80017], [1596.48816, 1313.55212], [416.176056, 1741.45618], [2.45600033, 1601.94421]]
],
"DDT2G1907ZMY00144SY": 
[
[[2422.28, 1118.56], [2738.88013, 1176.4801], [1984.64014, 1390.28], [1655.88, 1265.0]],
  [[2793.96021, 1040.84009], [3058.56, 1080.0], [2750.28, 1174.16], [2433.44019, 1116.12]],
[[1642.47839, 1265.18359], [1976.74988, 1391.50623], [389.6196, 1791.0791], [280.133484, 1562.66528]]
],
"DDT2G1907ZMY00177SY": 
[
[[2384.40015, 1078.8], [2677.2, 1125.6], [2137.2, 1332.0], [1776.0, 1233.6]],
  [[2733.6, 996.0], [2912.40015, 1028.4], [2684.40015, 1122.0], [2397.6, 1075.20007]],
 [[1764.0, 1236.0], [2137.2, 1335.6], [927.600037, 1736.4], [666.0, 1543.20007]]
],
"DDT2G1907ZMY00192SY": 
[
[[2018.88013, 1064.16], [2103.84, 1252.8], [691.2, 1310.4], [869.76, 1120.32007]],
  [[2985.12, 1055.52], [3173.76, 1196.64], [2113.92017, 1252.8], [2026.08008, 1067.04]],
[[862.28, 1121.56], [685.44, 1310.4], [0.0, 1329.12], [148.32, 1173.6001]]
],
"DDT2G1907ZMY00221SY_0114":
[
    [[16.73148, 804.5046], [569.4444, 838.699], [607.7453, 887.005249], [0.0, 850.8008]], 
    [[570.0833, 838.6666], [1095.83325, 821.5278], [1188.88879, 849.6111], [610.5, 887.805542]], 
    [[1096.63879, 821.138855], [1436.72217, 779.8611], [1538.72217, 796.4444], [1191.75, 849.999939]], 
    [[1439.0, 779.0833], [1662.02771, 746.222168], [1757.63879, 750.6944], [1543.13879, 796.4444]], 
    [[1667.13879, 745.138855], [1801.16663, 717.3611], [1868.66663, 719.4444], [1762.58325, 749.6111]]
],

"test_dev_0114":
[
    [[14.999999, 439.166656], [453.3333, 574.1666], [476.999969, 627.8333], [0.0, 490.666656]], 
    [[454.999969, 573.5], [906.499939, 693.3333], [980.999939, 747.5], [479.166656, 628.0]], 
    [[908.4582, 693.479858], [1203.22131, 757.6195], [1296.77832, 808.7738], [984.796143, 749.456665]], 
    [[1206.11475, 757.6195], [1385.58386, 795.3062], [1476.69421, 838.1912], [1300.67188, 809.738342]], 
    [[1388.88867, 795.2352], [1527.29529, 819.830139], [1602.52673, 854.552368], [1483.37476, 838.638]]
],
"DDT2G1907ZMY00082SY":
[
    [[2187.64844, 1105.229], [1016.06415, 1333.325], [544.798462, 1202.68823], [1772.92822, 1030.57935]],
    [[2928.96021, 976.32], [2204.64014, 1107.36], [1785.6001, 1029.6001], [2495.52, 912.96]]
],
"DDT2G1907ZMY00073SY":
[
    [[277.481659, 1282.117], [1451.59387, 966.1505], [1874.53467, 960.076965], [702.9505, 1306.36816]], 
    [[1456.91858, 964.7089], [2218.75244, 763.0849], [2633.47241, 731.9809], [1872.461, 958.003357]],
    [[2227.08325, 760.805542], [2834.02759, 601.388855], [3104.13867, 581.4444], [2638.58325, 728.8611]]
],
"DDT2G1907ZMY00081SY":
[
    [[290.304016, 594.432068], [889.9201, 679.104065], [514.944031, 715.3921], [1.72800016, 628.992065]], 
    [[899.305542, 678.472168], [1788.19434, 802.7778], [1366.89807, 860.532349], [523.7268, 716.4351]], 
    [[1793.98132, 804.3981], [3209.49048, 1022.56934], [2801.50439, 1119.21289], [1376.15723, 861.689758]]
],
"DR10001321102110002":
[
    [[648.0, 1077.12], [1342.08008, 1188.0], [884.160034, 1226.88], [228.96, 1101.6001]], 
    [[1357.92, 1190.88], [2409.12, 1363.68], [1866.24011, 1415.52], [895.680054, 1231.20007]], 
    [[2426.40015, 1363.68], [3921.12, 1621.44006], [3362.40015, 1710.72009], [1870.56, 1418.4]]
]
}

